<h1 class="text-3xl font-bold mb-6">Sign Up</h1>

<!-- vln-on:submit - Handle form submission with event object -->
<form vln-on:submit="event.preventDefault(); handleSubmit()">
  <div class="mb-4">
    <label class="block mb-2 font-medium">Email</label>
    <input
      vln-input="email"
      vln-class="{ 'border-red-500': touched.email && !isEmailValid, 'border-gray-300': !touched.email || isEmailValid }"
      class="w-full px-3 py-2 border rounded-md"
      vln-on:blur="touched.email = true"
      type="email"
    />
    <!-- vln-if - Conditionally show validation errors -->
    <div vln-if="touched.email && !isEmailValid" class="text-red-600 text-sm mt-1">
      Please enter a valid email address
    </div>
  </div>

  <div class="mb-4">
    <label class="block mb-2 font-medium">Password</label>
    <input
      vln-input="password"
      vln-class="{ 'border-red-500': touched.password && !isPasswordValid, 'border-gray-300': !touched.password || isPasswordValid }"
      class="w-full px-3 py-2 border rounded-md"
      vln-on:blur="touched.password = true"
      type="password"
    />
    <div vln-if="touched.password && !isPasswordValid" class="text-red-600 text-sm mt-1">
      Password must be at least 8 characters
    </div>
  </div>

  <div class="mb-6">
    <label class="flex items-center">
      <input type="checkbox" vln-input="agreed" class="mr-2" />
      <span>I agree to the terms and conditions</span>
    </label>
    <div vln-if="touched.agreed && !agreed" class="text-red-600 text-sm mt-1">
      You must agree to the terms
    </div>
  </div>

  <!-- vln-attr:disabled - Dynamically control button disabled state -->
  <button
    type="submit"
    vln-attr:disabled="!canSubmit || loading"
    class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed">
    <span vln-if="!loading">Sign Up</span>
    <span vln-if="loading">Creating account...</span>
  </button>

  <div vln-if="success" class="mt-4 p-4 bg-green-100 text-green-800 rounded-md">
    Account created successfully!
  </div>
</form>
