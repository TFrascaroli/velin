<h1 class="text-3xl font-bold mb-6">Task Manager</h1>

<!-- Comma operator - run multiple statements in event handler -->
<form vln-on:submit="(event.preventDefault(), addTask())" class="mb-6">
  <div class="flex gap-2">
    <input
      vln-input="newTask"
      placeholder="New task..."
      class="flex-1 px-3 py-2 border border-gray-300 rounded-md"
    />
    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
      Add
    </button>
  </div>
</form>

<!-- vln-loop:task="tasks" - Loop over array, 'task' is the loop variable -->
<ul class="space-y-2">
  <li vln-loop:task="tasks" class="p-3 bg-white border border-gray-200 rounded-md">
    <div vln-if="editingId !== task.id" class="flex items-center gap-3">
      <!-- vln-input on nested object properties -->
      <input type="checkbox" vln-input="task.done" class="w-4 h-4" />
      <span vln-text="task.text" vln-class="{ 'line-through text-gray-500': task.done }" class="flex-1"></span>
      <button vln-on:click="startEdit(task)" class="px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300">
        Edit
      </button>
      <button vln-on:click="deleteTask(task.id)" class="px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600">
        Delete
      </button>
    </div>

    <div vln-if="editingId === task.id" class="flex items-center gap-2">
      <input vln-input="editText" class="flex-1 px-3 py-2 border border-gray-300 rounded-md" />
      <button vln-on:click="saveEdit(task)" class="px-3 py-1 text-sm bg-green-500 text-white rounded hover:bg-green-600">
        Save
      </button>
      <button vln-on:click="cancelEdit()" class="px-3 py-1 text-sm bg-gray-300 rounded hover:bg-gray-400">
        Cancel
      </button>
    </div>
  </li>
</ul>

<div vln-if="!tasks.length" class="text-gray-500 text-center py-8">
  No tasks yet. Add one above!
</div>
